<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cake Room - Online Cake Shop</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            padding: 20px;
            transition: background-color 0.3s;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
            font-size: 28px;
            font-weight: bold;
        }
        .nav-menu {
            margin-bottom: 20px;
        }
        .nav-menu select {
            padding: 8px;
            font-size: 16px;
            border-radius: 5px;
            background-color: #ff69b4;
            color: white;
            border: none;
        }
        .search-bar {
            margin-bottom: 20px;
        }
        .search-bar input {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        .menu-section, .cart-section, .order-form, .contact-section {
            margin-bottom: 20px;
            display: none;
        }
        .menu-section.active, .cart-section.active, .order-form.active, .contact-section.active {
            display: block;
        }
        .menu-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        .menu-item button {
            padding: 5px 10px;
            background-color: #ff69b4;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .menu-item button:hover {
            background-color: #ff1493;
        }
        .cart-section ul {
            list-style: none;
            padding: 0;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        .cart-item button {
            background-color: #f44336;
            padding: 5px;
        }
        .order-form {
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
        }
        .order-form input, .order-form select {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        .order-form button {
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
        }
        /* Light Mode (Default) */
        body.light {
            background-color: #fff0f5;
            color: #333;
        }
        .light .container {
            background-color: white;
        }
        .light .header {
            color: #ff69b4;
        }
        .light .order-form {
            background-color: #f9f9f9;
        }
        .light .nav-menu select {
            background-color: #ff69b4;
        }
        /* Dark Mode */
        body.dark {
            background-color: #2b1a2f;
            color: #e0e0e0;
        }
        .dark .container {
            background-color: #3c2f41;
        }
        .dark .header {
            color: #ff85c2;
        }
        .dark .order-form {
            background-color: #4b5e66;
        }
        .dark .menu-item button {
            background-color: #ff85c2;
        }
        .dark .menu-item button:hover {
            background-color: #ff1493;
        }
        .dark .cart-item button {
            background-color: #f44336;
        }
        .dark .order-form button {
            background-color: #66bb6a;
        }
        .dark .nav-menu select {
            background-color: #ff85c2;
        }
        /* Settings Bar */
        .settings-bar {
            position: fixed;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 10px;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .dark .settings-bar {
            background-color: rgba(60, 47, 65, 0.9);
        }
        button:focus, input:focus, select:focus {
            outline: 3px solid;
            outline-offset: 2px;
        }
        .light button:focus, .light input:focus, .light select:focus {
            outline-color: #ff69b4;
        }
        .dark button:focus, .dark input:focus, .dark select:focus {
            outline-color: #ff85c2;
        }
    </style>
</head>
<body class="light">
    <div class="settings-bar" role="region" aria-label="Settings">
        <button id="modeToggle" onclick="toggleMode()" aria-label="Toggle dark mode">üåô Dark Mode</button>
    </div>
    <div class="container" role="main" aria-label="Cake Room Online Shop">
        <h1 class="header">üéÇ Welcome to Cake Room! üéÇ</h1>
        <div class="nav-menu" role="navigation" aria-label="Main Navigation">
            <select id="navSelect" onchange="navigate(this.value)" aria-label="Navigation Menu">
                <option value="home">Home</option>
                <option value="menu">Menu</option>
                <option value="cart">Cart</option>
                <option value="contact">Contact</option>
            </select>
        </div>
        <div class="search-bar" role="search" aria-label="Search Cakes">
            <input type="text" id="searchInput" placeholder="Search for a cake (e.g., 'Red Velvet')" onkeyup="searchCakes()" aria-label="Search Input">
        </div>
        <div class="menu-section active" id="menuSection">
            <h2>Our Delicious Cakes</h2>
            <div id="menuList"></div>
        </div>
        <div class="cart-section" id="cartSection">
            <h2>Your Cart</h2>
            <ul id="cartList"></ul>
            <button id="checkoutBtn" style="display: none; margin-top: 10px;" onclick="showOrderForm()" aria-label="Proceed to Checkout">Checkout</button>
        </div>
        <div class="order-form" id="orderForm">
            <h2>Let‚Äôs Get Your Order Ready!</h2>
            <input type="text" id="customerName" placeholder="Your Name" aria-label="Customer Name" required>
            <input type="tel" id="customerPhone" placeholder="Your Phone Number (10 digits)" aria-label="Customer Phone" pattern="[0-9]{10}" required>
            <select id="deliveryOption" aria-label="Delivery Option" required>
                <option value="">Choose Delivery or Pickup</option>
                <option value="delivery">Delivery</option>
                <option value="pickup">Pickup</option>
            </select>
            <button onclick="placeOrder()" aria-label="Submit Order">Place Order</button>
        </div>
        <div class="contact-section" id="contactSection">
            <h2>Contact Us</h2>
            <p>üìû Phone: <a href="tel:+919947142509" aria-label="Call Cake Room">9947142509 (Ajith Kumar G)</a></p>
            <p>üì± Facebook: <a href="https://www.facebook.com/Cake-Room-621579055137298/?ti=as" target="_blank" aria-label="Visit Cake Room on Facebook">Cake Room</a></p>
            <p>Feel free to give us a shout whenever you like!</p>
        </div>
    </div>

    <script>
        const cakeMenu = [
            { name: "Black Forest", price: 600 },
            { name: "White Forest", price: 600 },
            { name: "Red Velvet", price: 850 },
            { name: "Blue Velvet", price: 900 },
            { name: "Butter Scotch (almond added)", price: 900 },
            { name: "Rich Nutty Bubble Cake (almond and cashew)", price: 1100 },
            { name: "Spanish Delite cake", price: 1000 },
            { name: "Pistachio Cake", price: 1000 },
            { name: "Mango Cake", price: 750 },
            { name: "Blueberry Cake", price: 850 },
            { name: "Strawberry Cake", price: 750 },
            { name: "Chocolate Cake", price: 800 },
            { name: "Chocolate Truffle Cake", price: 1000 },
            { name: "Vanilla Cake", price: 600 },
            { name: "Tall Cake", price: "as per rate" },
            { name: "Barbie Cakes", price: 1800 },
            { name: "Cup Cakes", price: 50 },
            { name: "Dream Cakes", price: 550 },
            { name: "Jar Cakes", price: 80 },
            { name: "Neapolitan Cake", price: 1300 },
            { name: "Redvan Cake", price: 1200 },
            { name: "Vancho Cake", price: 1100 }
        ];
        const cakeSizes = ["1 kg", "2 kg"];
        let cart = [];
        const shopPhone = "9947142509";

        function toggleMode() {
            const body = document.body;
            body.classList.toggle("light");
            body.classList.toggle("dark");
            const toggleBtn = document.getElementById("modeToggle");
            toggleBtn.textContent = body.classList.contains("dark") ? "‚òÄÔ∏è Light Mode" : "üåô Dark Mode";
        }

        function navigate(section) {
            document.querySelectorAll(".menu-section, .cart-section, .order-form, .contact-section").forEach(el => el.classList.remove("active"));
            document.getElementById(`${section}Section`).classList.add("active");
            if (section !== "cart") document.getElementById("orderForm").style.display = "none";
        }

        function displayMenu(cakes = cakeMenu) {
            const menuList = document.getElementById("menuList");
            menuList.innerHTML = "";
            cakes.forEach((cake, index) => {
                const itemDiv = document.createElement("div");
                itemDiv.className = "menu-item";
                itemDiv.innerHTML = `
                    <span>${index + 1}. ${cake.name} - ‚Çπ${cake.price === "as per rate" ? "As per rate" : cake.price} ()</span>
                    <button onclick="addToCart('${cake.name}', '${cake.price}')">Add to Cart</button>
                `;
                menuList.appendChild(itemDiv);
            });
        }

        function searchCakes() {
            const searchTerm = document.getElementById("searchInput").value.toLowerCase();
            const filteredCakes = cakeMenu.filter(cake => cake.name.toLowerCase().includes(searchTerm));
            displayMenu(filteredCakes);
        }

        function addToCart(flavor, price) {
            const cartList = document.getElementById("cartList");
            const size = prompt(`Great choice with ${flavor}! What size would you like? We‚Äôve got 1 kg or 2 kg.`, "1 kg");
            if (!cakeSizes.includes(size)) {
                alert("Oops, we only have 1 kg or 2 kg! Could you pick one of those?");
                return;
            }
            const quantity = parseInt(prompt(`How many ${size} ${flavor} cakes would you like?`, "1"));
            if (isNaN(quantity) || quantity <= 0) {
                alert("Could you give me a valid number, please?");
                return;
            }
            const cartItem = { flavor, size, quantity, price: price === "as per rate" ? "as per rate" : (size === "1 kg" ? parseInt(price) : parseInt(price) * 2) };
            cart.push(cartItem);
            updateCart();
        }

        function updateCart() {
            const cartList = document.getElementById("cartList");
            cartList.innerHTML = "";
            cart.forEach((item, index) => {
                const li = document.createElement("li");
                li.className = "cart-item";
                li.innerHTML = `
                    ${item.quantity} x ${item.size} ${item.flavor} ${item.price !== "as per rate" ? `- ‚Çπ${item.price * item.quantity}` : "- Price as per rate"}
                    <button onclick="removeFromCart(${index})">Remove</button>
                `;
                cartList.appendChild(li);
            });
            document.getElementById("checkoutBtn").style.display = cart.length > 0 ? "block" : "none";
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
        }

        function showOrderForm() {
            if (cart.length === 0) {
                alert("Your cart‚Äôs empty! Add something sweet first!");
                return;
            }
            navigate("cart");
            document.getElementById("orderForm").style.display = "block";
            document.getElementById("checkoutBtn").style.display = "none";
        }

        function placeOrder() {
            const name = document.getElementById("customerName").value.trim();
            const phone = document.getElementById("customerPhone").value.trim();
            const delivery = document.getElementById("deliveryOption").value;

            if (!name) {
                alert("What‚Äôs your name so I can get this ready for you?");
                return;
            }
            if (!/^\d{10}$/.test(phone)) {
                alert("Oops, I need a 10-digit phone number. Could you try that again?");
                return;
            }
            if (!delivery) {
                alert("Would you like it delivered or will you pick it up? Please choose!");
                return;
            }

            const orderText = `New Cake Order:\n` +
                              cart.map(item => `Flavor: ${item.flavor}\nSize: ${item.size}\nQuantity: ${item.quantity}\n${item.price !== "as per rate" ? `Price: ‚Çπ${item.price * item.quantity}\n` : "Price: As per rate\n"}`).join("") +
                              `Delivery: ${delivery === "delivery" ? "Yes" : "No"}\nName: ${name}\nPhone: ${phone}`;
            const smsLink = `sms:${shopPhone}?body=${encodeURIComponent(orderText)}`;
            alert(`All set! Here‚Äôs your order:\n${orderText}\nClick below to send it to us, or copy it if you‚Äôre on desktop! Enjoy your cakes! üç∞`);
            window.location.href = smsLink;
            cart = [];
            updateCart();
            document.getElementById("orderForm").style.display = "none";
            navigate("home");
        }

        // Initialize menu
        displayMenu();
        navigate("home"); // Start on home (menu visible by default)
    </script>
</body>
</html>